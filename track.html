<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تتبع الطلب - خِدْمتي</title>
    <meta name="description" content="تتبع حالة طلبك بسهولة عبر رقم الطلب أو رقم الهاتف. احصل على تحديثات لحظية حول تقدم خدمتك.">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&family=Inter:wght@400;500;600;700&family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <!-- Custom Styles -->
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --success-green: #10b981;
            --light-gray: #f8fafc;
            --dark-gray: #374151;
        }
        
        body {
            font-family: 'Cairo', 'Inter', sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), #3b82f6);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(30, 58, 138, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success-green), #059669);
            transition: all 0.3s ease;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, var(--primary-blue) 0%, var(--success-green) 100%);
            transition: width 0.8s ease;
        }
        
        .step {
            transition: all 0.3s ease;
        }
        
        .step.active {
            transform: scale(1.1);
        }
        
        .step.completed {
            background: var(--success-green);
            color: white;
        }
        
        .timeline-item {
            position: relative;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            right: 15px;
            top: 40px;
            bottom: -20px;
            width: 2px;
            background: #e5e7eb;
        }
        
        .timeline-item:last-child::before {
            display: none;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, var(--primary-blue), var(--success-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .floating-element {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-gradient-to-r from-blue-800 to-green-500 rounded-lg flex items-center justify-center mr-3">
                                <i class="fas fa-hand-holding-alt text-white text-lg"></i>
                            </div>
                            <h1 class="text-2xl font-bold text-gray-900">خِدْمتي</h1>
                        </div>
                    </div>
                </div>
                
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4 space-x-reverse">
                        <a href="index.html" class="text-gray-700 hover:text-blue-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">الرئيسية</a>
                        <a href="services.html" class="text-gray-700 hover:text-blue-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">الخدمات</a>
                        <a href="#track" class="text-gray-900 hover:text-blue-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">تتبع الطلب</a>
                        <a href="admin.html" class="text-gray-700 hover:text-blue-800 px-3 py-2 rounded-md text-sm font-medium transition-colors">لوحة التحكم</a>
                    </div>
                </div>
                
                <div class="flex items-center space-x-4 space-x-reverse">
                    <button class="btn-primary text-white px-4 py-2 rounded-lg text-sm font-medium">
                        تسجيل الدخول
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <section class="pt-24 pb-12 bg-gradient-to-r from-blue-900 to-blue-700 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <h1 class="text-4xl md:text-5xl font-bold mb-4">تتبع طلبك</h1>
            <p class="text-xl text-blue-100 mb-8">تابع حالة طلبك خطوة بخطوة حتى الإنجاز الكامل</p>
        </div>
    </section>

    <!-- Tracking Form -->
    <section id="track" class="py-16">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-xl p-8 mb-12">
                <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">أدخل بيانات الطلب</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">رقم الطلب</label>
                        <div class="relative">
                            <input 
                                type="text" 
                                id="orderNumber"
                                placeholder="مثال: KH2024001" 
                                class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                            <i class="fas fa-hashtag absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">أو رقم الهاتف</label>
                        <div class="relative">
                            <input 
                                type="tel" 
                                id="phoneNumber"
                                placeholder="01XXXXXXXXX" 
                                class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            >
                            <i class="fas fa-phone absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                        </div>
                    </div>
                </div>
                
                <div class="text-center">
                    <button 
                        onclick="trackOrder()" 
                        class="btn-primary text-white px-8 py-3 rounded-xl text-lg font-semibold"
                    >
                        <i class="fas fa-search ml-2"></i>
                        تتبع الطلب
                    </button>
                </div>
            </div>

            <!-- Order Status Section (Hidden by default) -->
            <div id="orderStatus" class="hidden">
                <!-- Order Info Card -->
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-2xl font-bold text-gray-900">معلومات الطلب</h3>
                        <span id="orderStatusBadge" class="px-4 py-2 rounded-full text-sm font-medium"></span>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="text-center">
                            <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-hashtag text-blue-600 text-xl"></i>
                            </div>
                            <p class="text-sm text-gray-600 mb-1">رقم الطلب</p>
                            <p id="displayOrderNumber" class="font-semibold text-gray-900">KH2024001</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-cog text-green-600 text-xl"></i>
                            </div>
                            <p class="text-sm text-gray-600 mb-1">نوع الخدمة</p>
                            <p id="serviceType" class="font-semibold text-gray-900">بطاقة الرقم القومي</p>
                        </div>
                        
                        <div class="text-center">
                            <div class="w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-calendar text-purple-600 text-xl"></i>
                            </div>
                            <p class="text-sm text-gray-600 mb-1">تاريخ الطلب</p>
                            <p id="orderDate" class="font-semibold text-gray-900">15 سبتمبر 2024</p>
                        </div>
                    </div>
                </div>

                <!-- Progress Tracker -->
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-8 text-center">تقدم الطلب</h3>
                    
                    <div class="relative">
                        <!-- Progress Bar -->
                        <div class="absolute top-8 left-0 right-0 h-2 bg-gray-200 rounded-full">
                            <div id="progressBar" class="progress-bar h-2 rounded-full" style="width: 0%"></div>
                        </div>
                        
                        <!-- Steps -->
                        <div class="relative flex justify-between">
                            <div class="step completed w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white font-bold" data-step="1">
                                1
                            </div>
                            <div class="step active w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold" data-step="2">
                                2
                            </div>
                            <div class="step w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold" data-step="3">
                                3
                            </div>
                            <div class="step w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center text-gray-600 font-bold" data-step="4">
                                4
                            </div>
                        </div>
                    </div>
                    
                    <!-- Step Labels -->
                    <div class="flex justify-between mt-6 text-sm">
                        <div class="text-center">
                            <p class="font-medium text-green-600">تم الاستلام</p>
                            <p class="text-gray-500 text-xs">الطلب مسجل</p>
                        </div>
                        <div class="text-center">
                            <p class="font-medium text-blue-600">قيد المراجعة</p>
                            <p class="text-gray-500 text-xs">جارى فحص المستندات</p>
                        </div>
                        <div class="text-center">
                            <p class="font-medium text-gray-500">جارى التنفيذ</p>
                            <p class="text-gray-500 text-xs">معالجة الطلب</p>
                        </div>
                        <div class="text-center">
                            <p class="font-medium text-gray-500">مكتمل</p>
                            <p class="text-gray-500 text-xs">تم الإنجاز</p>
                        </div>
                    </div>
                </div>

                <!-- Timeline -->
                <div class="bg-white rounded-2xl shadow-xl p-8">
                    <h3 class="text-2xl font-bold text-gray-900 mb-6">سجل التحديثات</h3>
                    
                    <div id="timeline" class="space-y-6">
                        <!-- Timeline items will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- No Order Found -->
            <div id="noOrder" class="bg-white rounded-2xl shadow-xl p-8 text-center hidden">
                <i class="fas fa-search text-6xl text-gray-300 mb-4"></i>
                <h3 class="text-xl font-semibold text-gray-600 mb-2">لم يتم العثور على الطلب</h3>
                <p class="text-gray-500 mb-6">يرجى التحقق من رقم الطلب أو رقم الهاتف والمحاولة مرة أخرى</p>
                <button onclick="clearForm()" class="btn-primary text-white px-6 py-3 rounded-lg font-medium">
                    محاولة جديدة
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-800 to-green-500 rounded-lg flex items-center justify-center mr-3">
                            <i class="fas fa-hand-holding-alt text-white text-lg"></i>
                        </div>
                        <h3 class="text-xl font-bold">خِدْمتي</h3>
                    </div>
                    <p class="text-gray-400">ننجز خدماتك الحكومية والخاصة بكل سهولة وكفاءة</p>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">الخدمات</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">بطاقات الهوية</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">التراخيص والتصاريح</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">الشهادات والمستندات</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">الخدمات البنكية</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">روابط سريعة</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition-colors">تتبع الطلب</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">الأسئلة الشائعة</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">اتصل بنا</a></li>
                        <li><a href="#" class="hover:text-white transition-colors">من نحن</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold mb-4">تواصل معنا</h4>
                    <div class="space-y-2 text-gray-400">
                        <p><i class="fas fa-phone ml-2"></i>19023</p>
                        <p><i class="fas fa-envelope ml-2"></i>info@khedmati.com</p>
                        <p><i class="fas fa-map-marker-alt ml-2"></i>القاهرة - مصر الجديدة</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 خِدْمتي. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mock data for demonstration
        const mockOrders = {
            'KH2024001': {
                status: 'in-review',
                service: 'بطاقة الرقم القومي',
                date: '15 سبتمبر 2024',
                progress: 50,
                timeline: [
                    {
                        date: '15 سبتمبر 2024 - 10:30 صباحاً',
                        status: 'تم الاستلام',
                        description: 'تم استلام طلبك بنجاح وسيتم مراجعته قريباً',
                        icon: 'fas fa-check-circle',
                        color: 'text-green-600'
                    },
                    {
                        date: '15 سبتمبر 2024 - 02:15 مساءً',
                        status: 'قيد المراجعة',
                        description: 'جارى فحص المستندات المرفقة والتحقق من البيانات',
                        icon: 'fas fa-search',
                        color: 'text-blue-600'
                    },
                    {
                        date: 'قيد الانتظار',
                        status: 'جارى التنفيذ',
                        description: 'سيتم البدء في إجراءات الطلب بعد المراجعة',
                        icon: 'fas fa-clock',
                        color: 'text-gray-400'
                    },
                    {
                        date: 'قيد الانتظار',
                        status: 'مكتمل',
                        description: 'سيتم إشعارك عند إتمام الخدمة',
                        icon: 'fas fa-flag',
                        color: 'text-gray-400'
                    }
                ]
            },
            'KH2024002': {
                status: 'completed',
                service: 'رخصة القيادة',
                date: '10 سبتمبر 2024',
                progress: 100,
                timeline: [
                    {
                        date: '10 سبتمبر 2024 - 09:00 صباحاً',
                        status: 'تم الاستلام',
                        description: 'تم استلام طلبك بنجاح',
                        icon: 'fas fa-check-circle',
                        color: 'text-green-600'
                    },
                    {
                        date: '10 سبتمبر 2024 - 11:30 صباحاً',
                        status: 'قيد المراجعة',
                        description: 'تم فحص المستندات بنجاح',
                        icon: 'fas fa-search',
                        color: 'text-green-600'
                    },
                    {
                        date: '11 سبتمبر 2024 - 10:00 صباحاً',
                        status: 'جارى التنفيذ',
                        description: 'تم إرسال الطلب للجهات المختصة',
                        icon: 'fas fa-cog',
                        color: 'text-green-600'
                    },
                    {
                        date: '12 سبتمبر 2024 - 03:00 مساءً',
                        status: 'مكتمل',
                        description: 'تم إنجاز الخدمة بنجاح وجاهزة للاستلام',
                        icon: 'fas fa-flag',
                        color: 'text-green-600'
                    }
                ]
            },
            '01012345678': {
                status: 'processing',
                service: 'جواز السفر',
                date: '12 سبتمبر 2024',
                progress: 75,
                timeline: [
                    {
                        date: '12 سبتمبر 2024 - 02:00 مساءً',
                        status: 'تم الاستلام',
                        description: 'تم استلام طلبك بنجاح',
                        icon: 'fas fa-check-circle',
                        color: 'text-green-600'
                    },
                    {
                        date: '12 سبتمبر 2024 - 04:30 مساءً',
                        status: 'قيد المراجعة',
                        description: 'تم فحص المستندات بنجاح',
                        icon: 'fas fa-search',
                        color: 'text-green-600'
                    },
                    {
                        date: '13 سبتمبر 2024 - 09:15 صباحاً',
                        status: 'جارى التنفيذ',
                        description: 'جارى العمل على طلبك حالياً',
                        icon: 'fas fa-cog',
                        color: 'text-blue-600'
                    },
                    {
                        date: 'قيد الانتظار',
                        status: 'مكتمل',
                        description: 'سيتم إشعارك عند إتمام الخدمة',
                        icon: 'fas fa-flag',
                        color: 'text-gray-400'
                    }
                ]
            }
        };

        function trackOrder() {
            const orderNumber = document.getElementById('orderNumber').value.trim();
            const phoneNumber = document.getElementById('phoneNumber').value.trim();
            
            if (!orderNumber && !phoneNumber) {
                alert('يرجى إدخال رقم الطلب أو رقم الهاتف');
                return;
            }

            const orderKey = orderNumber || phoneNumber;
            const order = mockOrders[orderKey];

            if (order) {
                showOrderStatus(order, orderKey);
            } else {
                showNoOrder();
            }
        }

        function showOrderStatus(order, orderNumber) {
            // Hide tracking form and show order status
            document.querySelector('#track .bg-white').style.display = 'none';
            document.getElementById('orderStatus').classList.remove('hidden');
            document.getElementById('noOrder').classList.add('hidden');

            // Update order information
            document.getElementById('displayOrderNumber').textContent = orderNumber.startsWith('KH') ? orderNumber : 'KH2024003';
            document.getElementById('serviceType').textContent = order.service;
            document.getElementById('orderDate').textContent = order.date;

            // Update status badge
            const badge = document.getElementById('orderStatusBadge');
            const statusText = {
                'in-review': 'قيد المراجعة',
                'processing': 'جارى التنفيذ',
                'completed': 'مكتمل'
            };
            const statusColor = {
                'in-review': 'bg-blue-100 text-blue-800',
                'processing': 'bg-yellow-100 text-yellow-800',
                'completed': 'bg-green-100 text-green-800'
            };
            
            badge.textContent = statusText[order.status];
            badge.className = `px-4 py-2 rounded-full text-sm font-medium ${statusColor[order.status]}`;

            // Update progress bar
            document.getElementById('progressBar').style.width = order.progress + '%';

            // Update steps
            const steps = document.querySelectorAll('.step');
            const stepColors = ['completed', 'active', '', ''];
            const progressSteps = Math.ceil(order.progress / 25);
            
            steps.forEach((step, index) => {
                step.className = 'step w-16 h-16 rounded-full flex items-center justify-center text-white font-bold';
                
                if (index < progressSteps - 1) {
                    step.classList.add('completed', 'bg-green-500');
                } else if (index === progressSteps - 1) {
                    step.classList.add('active', 'bg-blue-500');
                } else {
                    step.classList.add('bg-gray-300', 'text-gray-600');
                }
            });

            // Update timeline
            const timeline = document.getElementById('timeline');
            timeline.innerHTML = '';
            
            order.timeline.forEach((item, index) => {
                const timelineItem = document.createElement('div');
                timelineItem.className = 'timeline-item flex items-start space-x-4 space-x-reverse';
                
                timelineItem.innerHTML = `
                    <div class="flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${item.color === 'text-gray-400' ? 'bg-gray-100' : 'bg-green-100'}">
                        <i class="${item.icon} ${item.color}"></i>
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center justify-between">
                            <h4 class="font-semibold text-gray-900">${item.status}</h4>
                            <span class="text-sm text-gray-500">${item.date}</span>
                        </div>
                        <p class="text-gray-600 mt-1">${item.description}</p>
                    </div>
                `;
                
                timeline.appendChild(timelineItem);
            });

            // Animate the progress
            setTimeout(() => {
                anime({
                    targets: '#progressBar',
                    width: order.progress + '%',
                    duration: 1000,
                    easing: 'easeInOutQuad'
                });
            }, 500);
        }

        function showNoOrder() {
            document.querySelector('#track .bg-white').style.display = 'none';
            document.getElementById('orderStatus').classList.add('hidden');
            document.getElementById('noOrder').classList.remove('hidden');
        }

        function clearForm() {
            document.getElementById('orderNumber').value = '';
            document.getElementById('phoneNumber').value = '';
            document.querySelector('#track .bg-white').style.display = 'block';
            document.getElementById('orderStatus').classList.add('hidden');
            document.getElementById('noOrder').classList.add('hidden');
        }

        // Auto-fill for demo purposes
        document.addEventListener('DOMContentLoaded', function() {
            // Add some demo buttons for quick testing
            const demoSection = document.createElement('div');
            demoSection.className = 'text-center mb-8';
            demoSection.innerHTML = `
                <p class="text-gray-600 mb-4">جرب عينات الطلبات:</p>
                <div class="flex flex-wrap justify-center gap-3">
                    <button onclick="fillDemo('KH2024001')" class="px-4 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-medium hover:bg-blue-200">
                        KH2024001 - قيد المراجعة
                    </button>
                    <button onclick="fillDemo('KH2024002')" class="px-4 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200">
                        KH2024002 - مكتمل
                    </button>
                    <button onclick="fillDemo('01012345678')" class="px-4 py-2 bg-yellow-100 text-yellow-700 rounded-lg text-sm font-medium hover:bg-yellow-200">
                        01012345678 - جارى التنفيذ
                    </button>
                </div>
            `;
            
            document.querySelector('#track .bg-white').appendChild(demoSection);
        });

        function fillDemo(orderNumber) {
            if (orderNumber.startsWith('KH')) {
                document.getElementById('orderNumber').value = orderNumber;
                document.getElementById('phoneNumber').value = '';
            } else {
                document.getElementById('orderNumber').value = '';
                document.getElementById('phoneNumber').value = orderNumber;
            }
            trackOrder();
        }
    </script>
</body>
</html>