# المخطط المعماري لمنصة "صغيري مع القرآن"

## نظرة عامة

المنصة تعتمد على بنية متعددة الطبقات لتقديم تجربة تعليمية غنية ومرنة، مع مراعاة القابلية للتوسع وإضافة مزايا مستقبلية.

```mermaid
graph TD
    A[المستخدم] -->|واجهات تفاعلية| B[Frontend - Next.js]
    B -->|REST API| C[Backend - Django REST Framework]
    C -->|ORM| D[(PostgreSQL)]
    C --> E[تخزين الوسائط - S3]
    C --> F[خدمات المراسلة والإشعارات]
    F --> G[قنوات إشعار (بريد/دفع)]
    C --> H[خدمات مستقبلية (تحليلات، ذكاء اصطناعي)]
```

## الواجهة الأمامية (Frontend)

- **التقنية**: Next.js (React + TypeScript).
- **التصميم**: Tailwind CSS + Theme مخصص للأطفال.
- **الميّزات**:
  - قارئ قرآن تفاعلي مع تظليل للآيات.
  - مشغل صوت متزامن مع النص.
  - محتوى تعليمي تدرجي (بطاقات، أنشطة).
  - نظام البحث المتقدم وتقسيم السور.
  - إدارة الحالة باستخدام Zustand أو Redux Toolkit، مع React Query لجلب البيانات.

## الواجهة الخلفية (Backend)

- **التقنية**: Django + Django REST Framework.
- **الوحدات الأساسية**:
  - إدارة السور والآيات والتفسير المبسط.
  - إدارة ملفات الصوت (روابط إلى التخزين السحابي).
  - نظام التدرج التعليمي (مستويات، تحديات، أنشطة).
  - تسجيل الأحداث والتحليلات.
- **المصادقة**: دعم JWT أو OAuth لاحقًا لحسابات المستخدمين.
- **الاختبارات**: pytest + coverage.

## قاعدة البيانات (Database)

- **PostgreSQL** مع جداول مترابطة:
  - `Surah`: اسم السورة، ترتيبها، عدد الآيات.
  - `Ayah`: رقم الآية، نصها، الربط بالسورة.
  - `SimplifiedExplanation`: تفسير مبسط مرتبط بالآية.
  - `AudioRecitation`: معلومات الملف الصوتي، القارئ، الروابط.
  - `LearningPath`: المستويات، المهارات المطلوبة.
  - `NotificationLog`: سجل الإشعارات المرسلة.

## التخزين والوسائط

- استخدام S3 أو Azure Blob لتخزين ملفات الصوت والرسومات.
- CDN لتقليل زمن التحميل.

## التدرج التعليمي والتفاعل

- ربط كل آية أو درس بمستوى صعوبة.
- أنشطة مصغرة (Quiz، ترتيب الكلمات، مطابقة الصور).
- نظام نقاط وأوسمة لتحفيز الأطفال.

## الإشعارات والتحفيز

- خدمة مصغرة لإرسال الإشعارات البريدية أو إشعارات الويب.
- جدول زمني للتذكير بإكمال الدروس.

## التوسع المستقبلي

- إضافة واجهة إدارة (CMS) للمحتوى.
- دعم واجهات API إضافية (GraphQL).
- دمج Chatbot تعليمي للرد على استفسارات الأطفال.
- دعم الواقع المعزز لشرح المعاني.