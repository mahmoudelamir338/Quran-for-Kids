# 🤖 دليل تفعيل المساعد الذكي (Gemini AI)

## 📖 نظرة عامة

المساعد الذكي يستخدم **Google Gemini AI** للإجابة على أسئلة الأطفال حول آيات القرآن الكريم بلغة بسيطة ومفهومة.

---

## 🔑 الحصول على API Key مجاني

### الخطوة 1: زيارة Google AI Studio

افتح المتصفح واذهب إلى:
```
https://aistudio.google.com/apikey
```

### الخطوة 2: تسجيل الدخول

- سجل الدخول بحساب Google الخاص بك
- إذا لم يكن لديك حساب، أنشئ واحداً مجاناً

### الخطوة 3: إنشاء API Key

1. اضغط على **"Create API Key"**
2. اختر مشروع موجود أو أنشئ مشروع جديد
3. انسخ الـ API Key (سيظهر مرة واحدة فقط!)

**مثال على API Key:**
```
AIzaSyDXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
```

---

## ⚙️ تفعيل المساعد الذكي في التطبيق

### الطريقة 1: ملف .env.local (للتطوير المحلي)

1. **أنشئ ملف `.env.local`** في المجلد الرئيسي للمشروع:

```bash
# في Terminal
cd "k:\Quran for Kids"
New-Item -ItemType File -Name ".env.local"
```

2. **افتح الملف وأضف:**

```env
GEMINI_API_KEY=AIzaSyDXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
```

3. **احفظ الملف وأعد تشغيل التطبيق:**

```bash
npm run dev
```

---

### الطريقة 2: Vercel (للنشر على الإنترنت)

1. **افتح Vercel Dashboard:**
   ```
   https://vercel.com/dashboard
   ```

2. **اختر مشروعك:** `quran-for-kids`

3. **اذهب إلى:** Settings → Environment Variables

4. **أضف متغير جديد:**
   - **Name:** `GEMINI_API_KEY`
   - **Value:** `AIzaSyDXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX`
   - **Environment:** Production, Preview, Development (اختر الكل)

5. **احفظ واعمل Redeploy:**
   - اذهب إلى Deployments
   - اضغط على آخر deployment
   - اضغط **"Redeploy"**

---

### الطريقة 3: GitHub Pages

⚠️ **ملحوظة مهمة:** GitHub Pages لا يدعم environment variables بشكل آمن.

**الحلول البديلة:**

1. **استخدم Vercel بدلاً منه** (موصى به)
2. **أو:** اجعل المساعد الذكي اختيارياً (كما هو الآن)

---

## ✅ التحقق من التفعيل

### 1. افتح التطبيق

```bash
npm run dev
```

### 2. اختر أي سورة

### 3. اضغط على أي آية

### 4. اضغط على **"مساعدك الذكي 🤖"**

### 5. اكتب سؤالاً مثل:

```
ما معنى هذه الآية؟
```

### 6. النتيجة المتوقعة:

- ✅ **إذا كان API Key صحيح:** ستحصل على إجابة ذكية
- ❌ **إذا لم يكن مفعّل:** ستظهر رسالة توضيحية مع التفسير المبسط

---

## 🎯 أمثلة على الأسئلة

يمكن للأطفال سؤال المساعد الذكي:

```
✅ ما معنى "الرحمن الرحيم"؟
✅ لماذا نقول "بسم الله"؟
✅ ما هو العصر؟
✅ كيف أكون من الصالحين؟
✅ ما معنى "الصمد"؟
```

---

## 🔒 الأمان

### ⚠️ مهم جداً:

1. **لا ترفع ملف `.env.local` على GitHub**
   - الملف موجود في `.gitignore` تلقائياً
   - لا تشاركه مع أحد

2. **احتفظ بنسخة احتياطية من API Key**
   - احفظه في مكان آمن
   - يمكنك إنشاء keys متعددة

3. **راقب الاستخدام:**
   - Google تعطي حصة مجانية يومية
   - راقب الاستخدام من: https://aistudio.google.com/

---

## 🆓 الحصة المجانية

### Google Gemini API - Free Tier:

- ✅ **60 طلب في الدقيقة**
- ✅ **1,500 طلب في اليوم**
- ✅ **مجاني تماماً**

**هذا يكفي لـ:**
- مئات الأطفال يستخدمون التطبيق يومياً
- آلاف الأسئلة شهرياً

---

## 🐛 حل المشاكل

### المشكلة 1: "المساعد الذكي غير مفعّل"

**الحل:**
- تأكد من إضافة `GEMINI_API_KEY` في `.env.local`
- أعد تشغيل التطبيق: `npm run dev`

### المشكلة 2: "حدث خطأ ما"

**الحل:**
- تحقق من صحة API Key
- تأكد من الاتصال بالإنترنت
- تحقق من الحصة اليومية

### المشكلة 3: الإجابات بطيئة

**الحل:**
- هذا طبيعي (2-5 ثواني)
- Gemini يفكر ويكتب إجابة مخصصة
- يمكنك إضافة loading animation

---

## 📊 مراقبة الاستخدام

### Google AI Studio Dashboard:

```
https://aistudio.google.com/
```

**يمكنك رؤية:**
- عدد الطلبات اليومية
- الحصة المتبقية
- الأخطاء (إن وجدت)

---

## 🎨 تخصيص المساعد الذكي

### تغيير نمط الإجابات:

افتح `components/SurahViewer.tsx` وعدل:

```typescript
systemInstruction: "أنت مساعد ذكي ولطيف للغاية..."
```

**أمثلة:**
- اجعله أكثر مرحاً
- أضف emojis أكثر
- اجعل الإجابات أقصر/أطول

---

## 🚀 الخطوات التالية

بعد تفعيل المساعد الذكي:

1. ✅ جرب أسئلة مختلفة
2. ✅ اطلب من الأطفال تجربته
3. ✅ راقب الاستخدام
4. ✅ خصص الإجابات حسب احتياجك

---

## 📞 الدعم

إذا واجهت أي مشكلة:

1. **راجع هذا الدليل**
2. **تحقق من Console في المتصفح** (F12)
3. **راجع Google AI Studio** للتأكد من API Key

---

## 🎉 تهانينا!

الآن المساعد الذكي جاهز لمساعدة الأطفال في فهم القرآن الكريم! 🌟

**بارك الله فيك! 🤲**